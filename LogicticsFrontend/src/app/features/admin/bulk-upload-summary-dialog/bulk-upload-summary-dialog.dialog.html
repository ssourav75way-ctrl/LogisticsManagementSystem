<h2 mat-dialog-title>Bulk Upload Summary</h2>

<mat-dialog-content>
  <div class="stats">
    <div class="stat-item">
      <span class="stat-value">{{data.totalRows}}</span>
      <span class="stat-label">Total</span>
    </div>
    <div class="stat-item">
      <span class="stat-value success-text">{{data.successfulRows}}</span>
      <span class="stat-label">Success</span>
    </div>
    <div class="stat-item">
      <span class="stat-value fail-text">{{data.failedRows}}</span>
      <span class="stat-label">Failed</span>
    </div>
  </div>

  <p *ngIf="data.summary.length > 0"><strong>Successfully Assigned Routes:</strong></p>
  
  <div style="max-height: 300px; overflow-y: auto;" *ngIf="data.summary.length > 0">
    <table>
      <thead>
        <tr>
          <th>Route #</th>
          <th>Driver</th>
          <th>Vehicle</th>
          <th>Timing</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of data.summary">
          <td><strong>{{s.routeNumber}}</strong></td>
          <td>{{s.driverName}}</td>
          <td>{{s.vehicleNumber}}</td>
          <td>{{s.startTime | date:'shortTime':'+0530'}} - {{s.endTime | date:'shortTime':'+0530'}}</td>
          <td><span class="status-badge">{{s.status}}</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="errors-section" *ngIf="data.errors.length > 0">
    <p><strong>Errors Found ({{data.errors.length}}):</strong></p>
    <div class="errors-list">
      <div *ngFor="let err of data.errors">â€¢ {{err}}</div>
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions >
  <button mat-flat-button color="primary" (click)="onClose()">DONE</button>
</mat-dialog-actions>
